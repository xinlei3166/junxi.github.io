import{_ as s,c as i,o as a,ag as n}from"./chunks/framework.CgtRPpXH.js";const g=JSON.parse('{"title":"Linux下安装python-2.7","description":"","frontmatter":{"title":"Linux下安装python-2.7","tags":["Python","Linux"],"categories":["Python"]},"headers":[],"relativePath":"blog/Python/Linux下安装python-2.7.md","filePath":"blog/Python/Linux下安装python-2.7.md","lastUpdated":1733335015000}'),p={name:"blog/Python/Linux下安装python-2.7.md"},t=n(`<h3 id="安装依赖的库" tabindex="-1">安装依赖的库 <a class="header-anchor" href="#安装依赖的库" aria-label="Permalink to &quot;安装依赖的库&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssl-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gcc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sqlite</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sqlite-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libxml2-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libxslt-devel</span></span></code></pre></div><h4 id="python" tabindex="-1">Python <a class="header-anchor" href="#python" aria-label="Permalink to &quot;Python&quot;">​</a></h4><p>**================================================= **</p><h3 id="下载python-2-7-13" tabindex="-1">下载python 2.7.13 <a class="header-anchor" href="#下载python-2-7-13" aria-label="Permalink to &quot;下载python 2.7.13&quot;">​</a></h3><p><a href="http://www.python.org/" target="_blank" rel="noreferrer">www.python.org</a></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# mkdir /software</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# cd /software/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 software]# wget https://www.python.org/ftp/python/2.7.13/Python-2.7.13.tgz</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 software]# ll</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">总用量</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 36852</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rw-r--r--</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 17076672</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 12月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 18</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 04:21</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Python-2.7.13.tgz</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rw-r--r--</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20656090</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  17</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 16:07</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Python-3.5.3.tgz</span></span></code></pre></div><h3 id="解压文件" tabindex="-1">解压文件 <a class="header-anchor" href="#解压文件" aria-label="Permalink to &quot;解压文件&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[root@server2 software]# tar -zxf Python-2.7.13.tgz</span></span></code></pre></div><h3 id="进入目录" tabindex="-1">进入目录 <a class="header-anchor" href="#进入目录" aria-label="Permalink to &quot;进入目录&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[root@server2 software]# cd Python-2.7.13</span></span></code></pre></div><h3 id="编译安装" tabindex="-1">编译安装 <a class="header-anchor" href="#编译安装" aria-label="Permalink to &quot;编译安装&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[root@server2 Python-2.7.13]# ./configure --prefix=/usr/local/python2.7 --with-threads --enable-shared</span></span>
<span class="line"><span>[root@server2 Python-2.7.13]# make &amp;&amp; make altinstall</span></span></code></pre></div><h3 id="备份旧python相关命令" tabindex="-1">备份旧python相关命令 <a class="header-anchor" href="#备份旧python相关命令" aria-label="Permalink to &quot;备份旧python相关命令&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">===</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">有些版本/usr/bin/目录下不存在pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 忽略下面第一行命令即可</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 Python-2.7.13]# mv /usr/bin/pip /usr/bin/pip_old  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 Python-2.7.13]# mv /usr/bin/easy_install /usr/bin/easy_install_old</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 Python-2.7.13]# mv /usr/bin/python /usr/bin/python_old</span></span></code></pre></div><h3 id="新版本python命令做软连接-快捷使用" tabindex="-1">新版本python命令做软连接，快捷使用 <a class="header-anchor" href="#新版本python命令做软连接-快捷使用" aria-label="Permalink to &quot;新版本python命令做软连接，快捷使用&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 Python-2.7.13]# ln -s /usr/local/python2.7/lib/libpython2.7.so /usr/lib</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 Python-2.7.13]# ln -s /usr/local/python2.7/lib/libpython2.7.so.1.0 /usr/lib</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 Python-2.7.13]# ln -s /usr/local/python2.7/bin/python2.7 /usr/bin/python</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 Python-2.7.13]# ln -s /usr/local/python2.7/lib/libpython2.7.so /usr/lib64</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 Python-2.7.13]# ln -s /usr/local/python2.7/lib/libpython2.7.so.1.0 /usr/lib64</span></span></code></pre></div><h3 id="测试python是否可以正常使用" tabindex="-1">测试python是否可以正常使用 <a class="header-anchor" href="#测试python是否可以正常使用" aria-label="Permalink to &quot;测试python是否可以正常使用&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# python</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Python</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.7.13</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (default, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Apr</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2017,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 11:14:36</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[GCC </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4.4.7</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20120313</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (Red Hat </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)] on linux2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;help&quot;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;copyright&quot;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;credits&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> or</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;license&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> more</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> information.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt;&gt;</span></span></code></pre></div><h3 id="安装pip" tabindex="-1">安装pip <a class="header-anchor" href="#安装pip" aria-label="Permalink to &quot;安装pip&quot;">​</a></h3><p>下载最新版的pip，然后安装</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 Python-2.7.13]# cd /software/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 software]# wget https://bootstrap.pypa.io/get-pip.py</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 software]# python get-pip.py</span></span></code></pre></div><p>查找pip的位置</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 software]# find / -name pip</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/usr/local/python2.7/bin/pip</span></span></code></pre></div><p>找到pip2.7的路径，为其创建软链作为系统默认的启动版本</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 software]# ln -s /usr/local/python2.7/bin/pip /usr/bin/pip</span></span></code></pre></div><p>测试pip是否可用</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[root@server2 software]# pip install Pillow</span></span>
<span class="line"><span>Collecting Pillow</span></span>
<span class="line"><span>  Downloading Pillow-4.1.0-cp27-cp27m-manylinux1_x86_64.whl (5.7MB)</span></span>
<span class="line"><span>    100% |████████████████████████████████| 5.7MB 129kB/s </span></span>
<span class="line"><span>Collecting olefile (from Pillow)</span></span>
<span class="line"><span>  Downloading olefile-0.44.zip (74kB)</span></span>
<span class="line"><span>    100% |████████████████████████████████| 81kB 541kB/s </span></span>
<span class="line"><span>Building wheels for collected packages: olefile</span></span>
<span class="line"><span>  Running setup.py bdist_wheel for olefile ... done</span></span>
<span class="line"><span>  Stored in directory: /root/.cache/pip/wheels/20/58/49/cc7bd00345397059149a10b0259ef38b867935ea2ecff99a9b</span></span>
<span class="line"><span>Successfully built olefile</span></span>
<span class="line"><span>Installing collected packages: olefile, Pillow</span></span>
<span class="line"><span>Successfully installed Pillow-4.1.0 olefile-0.44</span></span></code></pre></div><h3 id="安装easy-install" tabindex="-1">安装easy_install <a class="header-anchor" href="#安装easy-install" aria-label="Permalink to &quot;安装easy_install&quot;">​</a></h3><p>下载最新版的easy_install，然后安装</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[root@server2 software]# wget https://bootstrap.pypa.io/ez_setup.py</span></span>
<span class="line"><span>[root@server2 software]# python ez_setup.py</span></span></code></pre></div><p>找到easy_install的路径，为其创建软链作为系统默认的启动版本</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[root@server2 software]# ln -s /usr/local/python2.7/bin/easy_install /usr/bin/easy_install</span></span></code></pre></div><p>测试easy_install是否可用</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 software]# easy_install beautifulsoup4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Searching</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> beautifulsoup4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Reading</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://pypi.python.org/simple/beautifulsoup4/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Downloading</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://pypi.python.org/packages/9b/a5/c6fa2d08e6c671103f9508816588e0fb9cec40444e8e72993f3d4c325936/beautifulsoup4-4.5.3.tar.gz#md5=937e0df0d699a1237646f38fd567f0c6</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Best</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> match:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> beautifulsoup4</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4.5.3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Processing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> beautifulsoup4-4.5.3.tar.gz</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Writing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp/easy_install-OSpCW5/beautifulsoup4-4.5.3/setup.cfg</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Running</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> beautifulsoup4-4.5.3/setup.py</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -q</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bdist_egg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dist-dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp/easy_install-OSpCW5/beautifulsoup4-4.5.3/egg-dist-tmp-m3PXo5</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">zip_safe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flag</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">analyzing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> archive</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> contents...</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Moving</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> beautifulsoup4-4.5.3-py2.7.egg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/python2.7/lib/python2.7/site-packages</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Adding</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> beautifulsoup4</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4.5.3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> easy-install.pth</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> file</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Installed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/python2.7/lib/python2.7/site-packages/beautifulsoup4-4.5.3-py2.7.egg</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Processing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dependencies</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> beautifulsoup4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Finished</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> processing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dependencies</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> beautifulsoup4</span></span></code></pre></div><h3 id="yum-安装工具只支持系统自带的python版本-修改配置文件使其可正常使用" tabindex="-1">yum 安装工具只支持系统自带的python版本， 修改配置文件使其可正常使用 <a class="header-anchor" href="#yum-安装工具只支持系统自带的python版本-修改配置文件使其可正常使用" aria-label="Permalink to &quot;yum 安装工具只支持系统自带的python版本， 修改配置文件使其可正常使用&quot;">​</a></h3><p>查看原版本python</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 software]# ll /usr/bin/python</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lrwxrwxrwx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   34</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 11:20</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/python</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/python2.7/bin/python2.7</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lrwxrwxrwx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  15</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 14:33</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/python2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rwxr-xr-x</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9032</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  18</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2016</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/python2.6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 这个就是系统自带的python</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rwxr-xr-x</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1418</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  18</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2016</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/python2.6-config</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lrwxrwxrwx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   16</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:47</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/python-config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python2.6-config</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rwxr-xr-x</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9032</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 8月</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  18</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2016</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/python_old</span></span></code></pre></div><p>修改配置文件 /usr/bin/yum</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>#!/usr/bin/python  ===&gt;  修改为  #!/usr/bin/python2.6</span></span></code></pre></div><p>测试yum是否可用</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 software]# yum -y install python-devel</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">已加载插件：fastestmirror,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> security</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">设置安装进程</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Loading</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mirror</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> speeds</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cached</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hostfile</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> *</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> epel:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mirrors.aliyun.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">包</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python-devel-2.6.6-66.el6_8.x86_64</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 已安装并且是最新版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">无须任何处理</span></span></code></pre></div><p>好了，大功告成。 <br></p><h3 id="优化-编写一键安装python2-7的脚本" tabindex="-1">优化：编写一键安装python2.7的脚本 <a class="header-anchor" href="#优化-编写一键安装python2-7的脚本" aria-label="Permalink to &quot;优化：编写一键安装python2.7的脚本&quot;">​</a></h3><p>由于Centos 6.x的系统默认都是python2.6 ，如果服务器需要用2.7环境的话每台都得手动操作升级，工作量比较大， 编写脚本提升效率。（Centos 7.x版本的默认的python都是2.7.5版本）</p><p>创建用于存放python脚本的目录</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 software]# mkdir /script/python/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@server2 software]# cd /script/python/</span></span></code></pre></div><p>由于国外python网站下载python安装包缓慢，可以提前下载下来，和install_py27.sh放在一起，在脚本中直接解压本地文件进行安装，我已经上传到网盘 <a href="http://url.cn/47PjiDY" target="_blank" rel="noreferrer">点击我下载</a></p><p>开始编写脚本 install_py27.sh</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/bin/sh </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># __author__ = &#39;junxi&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># This script is used by fast installed python2.7 ......</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># write by 2017/04/11</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;##############start run install for python2.7 script############&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssl-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gcc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sqlite</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sqlite-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysql-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libxml2-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libxslt-devel</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /software</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Python-2.7.13.tgz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /software</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /software</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -zxf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Python-2.7.13.tgz</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Python-2.7.13/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./configure</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --prefix=/usr/local/python2.7</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --with-threads</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --enable-shared</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> altinstall</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/pip_old</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/easy_install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/easy_install_old</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/python_old</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ln</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/python2.7/lib/libpython2.7.so</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/lib</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ln</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/python2.7/lib/libpython2.7.so.1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/lib</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ln</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/python2.7/bin/python2.7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/python</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ln</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/python2.7/lib/libpython2.7.so</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/lib64</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ln</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/python2.7/lib/libpython2.7.so.1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/lib64</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /software</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://bootstrap.pypa.io/get-pip.py</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get-pip.py</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ln</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/local/python2.7/bin/pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/pip</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;############更换pip源为国内淘宝源##########&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /root/.pip/</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">touch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /root/.pip/pip.conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /root/.pip/pip.conf</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> EOF</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">[global]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">index-url=http://mirrors.aliyun.com/pypi/simple/ </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">[install]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">trusted-host=mirrors.aliyun.com</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">EOF</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Pillow</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sed</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;s#\\/usr/bin/python#\\/usr/bin/python2.6#g&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/bin/yum</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python-devel</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;the install script is the end......&#39;</span></span></code></pre></div><p>把Python-2.7.13.tgz文件和install_py27.sh脚本下载下来，放在同一个目录下： 运行下面命令进行安装</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/bin/sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install_py27.sh</span></span></code></pre></div><p>安装完成后执行python查看版本</p><p><img src="http://upload-images.jianshu.io/upload_images/4262139-1e50ce5fc53a6e3e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>`,54),l=[t];function h(e,k,r,F,o,d){return a(),i("div",null,l)}const c=s(p,[["render",h]]);export{g as __pageData,c as default};
